Vue.config.devtools=!1,Vue.config.debug=!1,Vue.config.silent=!0,Vue.config.ignoredElements=["app","page","navbar","settings","splash","splashwrap","message","notifications","speedControls","state","bank","commodity","detail","gameover","listheader","listings","category","name","units","currentPrice","description","market","currentValue","contractSize","goldbacking","contractUnit"];var app=new Vue({el:"#app",data:{isDropping:!1,isStopped:!1,isReady:!0,knifeX:0,knifeY:0,knifeWidth:10,knifeHeight:100,targetX:0,targetY:0,targetWidth:100,targetHeight:100,dropMaxCount:3,dropCount:2,dropTotalCount:100,isSuccess:!1,score:0,showInstructions:!0,results:[],knifeElement:document.getElementsByTagName("knife")[0],r:document.querySelector(":root"),c:window.getComputedStyle(document.querySelector(":root"))},methods:{ReadyStage(){this.isSuccess&&(this.dropCount=this.dropMaxCount-1),this.isSuccess=!1,this.knifeY=-this.knifeHeight,this.dropCount++,this.dropCount===this.dropMaxCount&&(this.knifeWidth=getRandomInt(10,20),this.knifeHeight=getRandomInt(60,200),this.knifeY=-this.knifeHeight,this.knifeX=getRandomInt(this.knifeWidth,(window.innerWidth<500?window.innerWidth:500)-this.knifeWidth),this.targetHeight=getRandomInt(10,100),this.targetY=getRandomInt(200+this.knifeHeight,window.innerHeight-120-this.targetHeight),this.dropCount=0)},StopKnife(){if(this.dropTotalCount>0){this.knifeElement=document.getElementsByTagName("knife")[0];const t=window.getComputedStyle(this.knifeElement).transform.match(/matrix.*\((.+)\)/)[1].split(", ");this.knifeY=t[5];let e=30+Number(this.score)+(100-Number(this.targetHeight))*(Number(this.dropMaxCount)-Number(this.dropCount));Number(this.knifeY)+Number(this.knifeHeight)+1<=Number(this.targetHeight)+Number(this.targetY)+2&&Number(this.knifeY)+Number(this.knifeHeight)+1>Number(this.targetY)&&(this.score=e,this.isSuccess=!0),(this.isSuccess||2==this.dropCount)&&(this.results.push(new ResultObject({count:this.dropTotalCount,attempts:this.dropCount,success:this.isSuccess,value:e,ky:this.knifeY,kx:this.knifeX,kh:this.knifeHeight,ty:this.targetY,th:this.targetHeight})),log(this.results[this.results.length-1].success)),this.dropTotalCount--}},ToggleInstructions(){this.showInstructions=!this.showInstructions,localStorage.setItem("showInstructions",this.showInstructions)},GetHitsOn(t){let e=0;return this.results.forEach((i=>{i.success&&i.attempts==t&&e++})),e},GetMisses(){let t=0;return this.results.forEach((e=>{e.success||t++})),t},GetHighestPossibleScore(){let t=0;return this.results.forEach((e=>{let i=30+3*(100-Number(e.th));t+=i})),t},EndGame(){window.confirm("Are you sure you want to quit?")&&(this.dropTotalCount=0,this.isStopped=!0,this.isReady=!1,this.isDropping=!1)},HandleActionButton(t){t.stopPropagation(),t.preventDefault(),this.isDropping?(this.StopKnife(),this.isDropping=!1,this.isStopped=!0):this.isStopped?(this.ReadyStage(),this.isStopped=!1,this.isReady=!0):this.isReady&&(this.isReady=!1,this.isDropping=!0)},UpdateApp(){this.isDropping&&(this.knifeY=Number(this.knifeY)+6)},RestartGame(){this.results=[],this.dropCount=this.dropMaxCount-1,this.dropTotalCount=100,this.score=0,this.isDropping=!1,this.isStopped=!1,this.isReady=!0,this.ReadyStage()},GetSettings(){this.showInstructions="false"!=localStorage.getItem("showInstructions")},Share(){navigator.share({title:"Drop 'n Stop!",text:"A game of precision.",url:"https://dropnstop.games"})}},mounted(){this.GetSettings(),this.ReadyStage(),this.updateInterval=window.setInterval(this.UpdateApp,1)},computed:{}});